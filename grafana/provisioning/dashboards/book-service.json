{
  "id": null,
  "title": "Book Service Metrics",
  "tags": ["book-service"],
  "timezone": "browser",
  "schemaVersion": 27,
  "version": 0,
  "panels": [
    {
      "type": "graph",
      "title": "Book Requests Total",
      "targets": [
        {
          "expr": "book_requests_total",
          "legendFormat": "{{method}} {{endpoint}}",
          "refId": "A"
        }
      ],
      "id": 1
    },
    {
      "type": "graph",
      "title": "Book Requests Duration (seconds)",
      "targets": [
        {
          "expr": "histogram_quantile(0.95, sum(rate(book_requests_duration_seconds_bucket[5m])) by (le, method, endpoint))",
          "legendFormat": "{{method}} {{endpoint}}",
          "refId": "B"
        }
      ],
      "id": 2
    }
  ]
}
